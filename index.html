<html>

<head>
  <title> WOFFER </title>
  <meta charset="utf-8">
  <meta http-equiv="content-type" content="text/html;charset=utf-8" />

  <meta name="viewport" content="width=device-width, initial-scale=0.9">
  <link rel="icon" type="image/ico" sizes="32x32" href="favicon.ico"> 
  <link rel="icon" type="image/ico" sizes="16x16" href="favicon.ico"> 


  <style>
   @font-face {
         font-family: 'Inter';
         font-style: normal;
         src: url('fonts/Inter.woff2') format('woff2');
          font-display: swap;
          font-weight: 1 999; 
       }

    body{
        font-family: "Inter", -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial,
        sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';
        text-align: center;
    }

    a{
      text-decoration: none;
      color: black;
      font-weight: 400;
    }

    a:hover{
      text-decoration: underline;
    }

    b{
      font-weight: 600;
    }

    h2{
      margin-bottom: 1rem;
    }

    .form-holder{
      max-width: 30rem;
      width: 90%;
      display: inline-block;
      text-align: center;
      margin-top: 1vh;

    }   

    button, input{
      display: inline-block;
      width: fit-content;
      font-family: "Inter", -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial,
        sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';
        font-size: 14px;
        font-weight: 400;
    }

    .checkboxes{
      width: 25rem;
      text-align: left;
      margin-left: calc(50% - 7rem);
      font-weight: 600;
       font-size: 12px;
    }

    .checkboxes > *{
      margin: 5px 2px;
      transition: 0.2s all ease;
      cursor: pointer;
    }

    .checkboxes > input:hover{
       transform: scale(1.1);
       accent-color: black;
    }

    input[type="checkbox"] {
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
      width: 13px;
      height: 13px;
      border-radius: 0px;
      border: 1px solid #111;
      background-color: white; /* Default background color */
    }

    input[type="checkbox"]:checked {
      background-color: #000000; /* Change background color when checked */
    }

    label{
      line-height: 1.25em;
      vertical-align: top;
      display: inline-block;
    }

    #file-label:hover{
/*      background: #000;*/
/*      text-shadow: 0px 0px 1px white;*/
      font-weight: 600;
      transform: scale(1.01);
    }

    button{
      border: none;
      color: black;
      cursor: pointer;
      background: white;
      transition: 0.2s all ease;
    }

    button:hover{
      font-weight: 800;
      border-radius: 4px;
    }

    [type=file] + label.btn-1 {
        background-color: #111;
        font-size: 14px;
        transition: 0.2s all ease;
    }

    [type=file] + label {
        background: #111;
        border: none;
        border-radius: 5px;
        color: #fff;
        cursor: pointer;
        display: inline-block;
        font-family: "Inter", sans-serif;
        font-weight: 300;
        margin-bottom: 1rem;
        outline: none;
        padding: 0.6rem 60px;
        position: relative;
        transition: all 0.3s;
        vertical-align: middle;
    }

    [type=file] {
        height: 0;
        overflow: hidden;
        width: 0;
    }

    p{
      font-size: 14px;
      text-align: center;
      line-height: 1.45em;
    }

    p > a{
      text-decoration: underline;
      font-weight: 600;
    }

    label > span{
      opacity: 0;
      font-weight: 400;
      font-size: 10px;
      font-style: italic;
      display: inline-block;
      transition: 0.2s all ease;
    }

    label:hover > span{
      opacity: 1;
      padding-left: 6px;
    }

  </style>

  <link href="https://unpkg.com/filepond@^4/dist/filepond.css" rel="stylesheet" />

</head>

  <body>

  <div class=form-holder>
    <h2> WOFFER </h2>
    <p> Upload a <b>.ttf</b> file ---> recieve a <b>.woff2</b>. </p>
    <br>
    <p style="text-align: justify;"> Variable fonts are <a href="https://v-fonts.com/about">pretty cool</a>. They give you fine-grained control over multiple font axes, most notably, font-weight. With variable fonts, you no longer have to include half a dozen different files to use the full range of weights. However, variable fonts exist as True Type Fonts (.ttf) by default, which are a whopping <a href="https://wicki.io/posts/2021-11-woff2-one-font-format-to-rule-them-all/"><i>250%</i></a> larger than their .woff2 counterparts. That's right, converting to .woff2 gives you a file that's more than 60% smaller, and is supported by <a href="https://caniuse.com/?search=woff2">96.35%</a> of all browsers.
     <br><br>
     While they are great for working with regular .ttf files, most font conversion tools online are terrible at handling the compression of <i>variable</i> .ttf fonts. The only tools that seem to work are CLI-based: the <a href="https://github.com/fonttools/fonttools">fonttools</a> and <a href="https://github.com/google/woff2">woff2</a> libraries. WOFFER uses the former to handle both conversion and subsetting of variable .ttf fonts to their .woff2 versions, and lets you use it through this simple GUI. <i>Conversion usually takes between 5-10 seconds.</i></p>

   
    <br>
    <br>
    <br>

    <form action="https://subsetting.stealsocks.repl.co/convert/" enctype="multipart/form-data" method="post">

        <input type="file" name="file" id=file />
          <label for="file" class="btn-1" id="file-label">Upload font file (.ttf)</label>
          <br>
         <button type="submit" id=submit> Convert --> </button>

         <br>
         <br>
         <br>

    <p> For extra savings, choose a subset/s of glyphs before you hit "Convert". </p>

        <div class=checkboxes>
          <input type="checkbox" id="checkbox-1" name="latin">
           <label for="checkbox-1">Basic Latin (<a href="https://www.unicode.org/charts/PDF/U0000.pdf">U+0000–007F</a>) <span>Approx. 50% of total...</span></label><br>        


           <input type="checkbox" id="checkbox-2" name="latin_1">
           <label for="checkbox-2">Latin-1 Supplement (<a href="https://www.unicode.org/charts/PDF/U0080.pdf">U+0080–00FF</a>) <span> Approx. 25% of total...</span></label><br>


           <input type="checkbox" id="checkbox-3" name="punctuation">
           <label for="checkbox-3">General Punctuation (<a href="https://www.unicode.org/charts/PDF/U2000.pdf">U+2000–206F</a>) <span> Approx. 7% of total...</span></label><br>
        </div>
        </form> 

        
  </div>

  <script> 
const fileInput = document.querySelector('input[type="file"]');
const button = document.getElementById("submit").addEventListener("click", (event) => {
      document.getElementById("submit").innerText = "Converting..."
      setTimeout(() => {
          document.getElementById("submit").innerText = "Convert -->"
      }, 10000)
})

fileInput.addEventListener('change', (event) => {
  const file = event.target.files[0];
  if(file == null){ 
    document.getElementById("file-label").innerHTML = `Upload font file (.ttf)`}
  else{
    document.getElementById("file-label").innerHTML = `<b>Added: <i>${file.name}</i></b>`
  }

  let ext = file.name.split(".")[file.name.split(".").length - 1]

  if(ext != "ttf"){
    document.getElementById("file-label").innerHTML = `<b>Please add a .ttf file only!</b>`}

});
</script>


<!--  <script src="https://unpkg.com/filepond@^4/dist/filepond.js"></script>

<script type=module>
  
    // Get a reference to the file input element
    const inputElement = document.querySelector('input[type="file"]');

    // Create a FilePond instance
    const pond = FilePond.create(inputElement, {acceptedFileTypes:['font/*'], labelIdle: 'Drag-and-drop your .ttf file, or<span class="filepond--label-action"> browse </span>'});
</script> -->

</body>

</html>